# Name of our workflow
name: Majibu Version 6 Tests


# Triggers for our workflow
on:
    # Allows you to trigger this workflow manually from Github
    workflow_dispatch:
    # Trigger workflow on push
    push:

jobs:
    unit-testing:
        name: Unit Testing
        runs-on: ubuntu-latest
        strategy:
            max-parallel: 4
            matrix:
                python-version: ['3.10', '3.11']

        steps:
            - name: Checkout Repository Code
              uses: actions/checkout@v4
            - name: Set Up Python ${{ matrix.python-version }}
              uses: actions/setup-python@v5
              with:
                python-version: ${{ matrix.python-version }}
                cache: 'pip'
                cache-dependency-path: '**/requirements*.txt'

            - name: Install Dependencies
              run: |
                python -m pip install --upgrade pip
                pip install -r requirements.txt

            - name: Start Redis
              run: |
                sudo systemctl start redis-server
                sudo systemctl status redis-server
